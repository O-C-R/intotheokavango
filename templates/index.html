

{% extends "page.html" %}
{% block title %}Into the Okavango 2015{% endblock title %}



{% block head %}

  <link rel="stylesheet" href="http://cdn.leafletjs.com/leaflet-0.4/leaflet.css" />
      <link rel="stylesheet" type="text/css" href="../static/css/api.css">
    <link rel="stylesheet" type="text/css" href="../static/css/style.css">
    <link rel="stylesheet" type="text/css" href="../static/css/normalize.css">
  
{% raw %}
<script id='query-template' type='text/ractive'>
    <h2>Query String</h2>
    <pre id="query-endpoint">{{renderedURL}}</pre>
    
    <Tag queryTags="{{queryTags}}"></Tag>
    <div class="input-section">
        <h2>View</h2>
        <label>
            <input type='radio' name='{{view}}' value='viz'>VIZ</label>
        <label>
            <input type='radio' name='{{view}}' value='map'>MAP</label>
        <label>
            <input type='radio' name='{{view}}' value='json'>JSON</label>
    </div>
    <div class="input-section">
        <h2>Limit to <input type='number' value='{{limit}}' show="{{limit}}" min='1' max="2000" /></h2>
    </div>
    <div class="input-section">
        <h2>Order by</h2>
        <label>
            <input type='radio' name='{{order}}' value='ascending'>ascending</label>
        <label>
            <input type='radio' name='{{order}}' value='descending'>descending</label>
    </div>
    <button id="query-button" on-click="runQuery">Run Query</button>
    <div class="input-section">
        <h2>Filter by</h2>
        <RactiveDropdownComponent id="dropdown-parent" items="{{items}}" selector="items" show="{{show}}" selectedText="select the filter" />
        <div id="dropdown-child" style="display:{{dropDownDisplay}}">
            <RactiveDropdownComponent items="{{categoriesItems}}" selector="categories" show="{{show}}" selectedText="select {{selector}}" />
        </div>
        <div id="dropdown-grandchild" style="display:{{dropDownGrandchild}}">
            <RactiveDropdownComponent items="{{modelsItems}}" selector="models" show="{{show}}" selectedText="select {{selector}}" />
        </div>
    </div>
</script>

<script id='featuresTemplate' type='text/ractive'>
    <div id="features-left">
        {{ >totals}}
    </div>
    <div id="features-right">
        {{ >featureTypes}}
    </div>

    {{#partial featureTypes}} 
      {{#each featuresArray}}
      <ul>
          <li>{{ title }}</li>
      </ul>
      {{/each}} 
    {{/partial}} 
    {{#partial totals}} 
      {{#each featuresArray}}
      <ul>
          <li>{{ total }}</li>
      </ul>
      {{/each}} 
    {{/partial}}
</script>


<!-- Dropdown Template -->
<script id='RactiveDropdownComponentTemplate' type='text/ractive'>
  <div class="{{selectorClass}} {{ isOpened ? 'opened' : '' }}" id="ractiveDropdown">
      <span class="label" on-enter="selectItem" on-tap="toggleDropdown" on-uparrow="move:up" on-downarrow="move:down" on-leftarrow="move:up" on-rightarrow="move:down" tabindex="0">{{ selectedText }}</span>
      <ul style="height: {{ liHeight * show + (padding * 2) }}px">
          {{#each items: i}}
          <li tabindex="0" on-tap="selectItem:{{i}}" class="{{ (selectedIndex == i) ? 'active' : '' }}">{{.}}</li>
          {{/each}}
      </ul>
  </div>
</script>

<!-- tag component template -->
<script id="tagTemplate" type="text/ractive">
  <div class="btn-group">
      {{#each queryTags:i}}
      <span class="btn btn-primary" >
          <span>{{.}}</span>
          <span on-click="splice('queryTags', i, 1)">x</span>
      </span>
      {{/each}}
  </div>
</script>

<!-- d3 component template -->
<script id="d3-template" type="text/ractive">
    
    <div id="timelineViz"></div>
</script>

<!-- main data section ractive template -->
<script id="content-template" type="text/ractive">
  <div id="data-header">
      <ul id="data-navigation">
          <li class="documentation" on-click='setActive("documentation")'>Documentation</li>
          <li class="explorer" on-click='setActive("explorer")'>Explorer</li>
          <li class="overview" on-click='setActive("overview")'>Overview</li>
      </ul>
      <div class="title" id="api-view-title">{{activeSection.nav_title}}</div>
    </div>

  {{#if section === "overview"}}
  <div class="data-description">
    <p>The Okavango Database is a growing record of data generated by the explorers and scientists on their 90 day expedition to the Okavango Delta. The database encompasses wildlife sightings, tweets, audio recordings and images taken by the participants, as well as sensor measurements capturing things like temperature, pH levels, and heart rates. The intention of the Okavango Database API is to share the data in almost real-time as it’s uploaded, so that people all over the world can follow the journey as it unfolds. It also allows for others to use the data for their own purposes. The graphs below offer a starting point for how this data can be visualized.</p>
    <D3View />
  </div>
  {{/if}}

  {{#if section === "explorer"}}
  <div class="data-description">
    <p>The API Explorer page contains some user interface tools to help make it easier to understand how to build your database query. By choosing between different buttons, you can decide whether you want your data to return in the raw JSON format, plotted on a map, or visualized on a graph. You can also select how many entries to return, as well as what kind of data you’re interested in seeing. For more information on all possible endpoints (types of queries you can make), please consult the API Documentation section.</p>
  
    <div id="widgets-area">
      <div id="features-area">
        <h2>Feature Totals</h2>
        <div id="features-totals">
            <!--Ractive template-->
            <FeaturesWidget />
        </div>
      </div>
      <div id="query-area">
          <!--Ractive template-->
          <QueryComponent />
      </div>
     </div>
   </div>
  {{/if}}

  {{#if section === "documentation"}}
  <div class="data-description">
    <h2>What is an API?</h2>
    <p>API stands for application programming interface, which usually involves a set of processes and commands that make it convenient for people to access computer code or information that someone has already produced. For instance, if you want to make your own app post a message to Facebook, you would probably use Facebook’s API to integrate your app with theirs.</p>
    <h2>What is a Database?</h2>
    <p>A database is an organized collection of data. For the Okavango Wildlife Database, each type of data &#8212; a wildlife sighting, image, sensor reading or audio recording, to name a few &#8212; is uploaded to an online server via satellite. As the expedition unfolds, the database will grow, holding more and more records of what the explorers and scientists have witnessed on the trip.</p>
    <h2>What is a Database API?</h2>
    <p>The Okavango Database API is the interface that allows you to ask the database to show you what’s inside. Usually, API’s are software-to-software interfaces that aren’t that easy for humans to understand. To ask the database to give you data back, you make a specific query in the form of a URL. The database is able to parse and recognize this request, and returns the data to you in some kind of structured way, like an XML or JSON file. In our case, the Okavango Database returns information in JSON (Javascript Object Notation).</p>
    <h2>API Endpoints</h2>
  </div>
  {{/if}}
</script>

{% endraw %}


{% endblock head %}


{% block body %}

  <div id="mapContainer">
    <div id="map">
    </div>
  </div>

  <div id="contentContainer">
    <div id="header" class="header">
      <ul id="navigation">
        <li class="map">Map</li>
        <li class="journal">Journal</li>
        <li class="data">Data</li>
        <li class="about">About</li>
        <li class="share"><span>Share</span></li>
      </ul>
      <div id="title">
        <h1>Into the Okavango 2015</h1>
        <img src="static/img/logo.svg" alt="Into the Okavango logo"/>
      </div>
    </div>

    <div id="pageContainer">
      <div id="aboutPage" class="page hidden">
        <div id="video">
          <div class="vimeoContainer">
            <iframe src="https://player.vimeo.com/video/124421450" width="100%" frameborder="0" webkitallowfullscreen mozallowfullscreen allowfullscreen></iframe>
          </div>
        </div>
        <div id="introduction">
          <div class="row">
            <div class="column">
              <h1>The beating heart of our planet</h1>
            </div>
            <div class="column">
              <p>
                The Okavango Delta is one of the world’s last great wetland wildernesses. Although the Delta has been awarded UNESCO WHS Status its catchments in the highlands of Angola are still unprotected and largely unexplored. Starting in May a team of Ba’Yei, scientists, engineers and adventurers will journey a 1000 miles down the Cuito River, finding new species, exploring new ground, and taking the pulse of this mighty river that brings life-giving water to the Jewel of the Kalahari.
              <br>
              <br>
                This site displays data which is uploaded daily, via satellite, by the expedition team. Data is also available through a public API, allowing anyone to remix, analyze or visualize the collected information.
              </p>
            </div>
          </div>

          <div id="beaconContainer">
            <img src="static/img/introBeacon.svg" alt="" id="beacon"/>
          </div>

          <div class="row" id="goals">
            <div class="column">
              <div class="goalIcon"><img src="static/img/iconIntroUnderstand.png"/></div>
              <h2>Understand 
              <br>
                the wilderness
              </h2>
              <p>
                To effectively protect the Okavango and its catchments it is essential to gain knowledge and insight into the functioning of the system as a whole. Starting in 2011 the Okavango Wilderness Project has conducted yearly transects of the Delta, gathering unique data and immersing the expedition members in the ebb and flow of this pristine wilderness. In 2015 the expedition will be extended to include a transect of one of the Delta’s feeder rivers, the Cuito. With its source deep in the remote highlands of Angola, this is one of the least known places on Earth. Travelling down the river, the team will collect data on insects, fish, birds, reptiles and mammals, as well as conduct water quality assessments and landscape surveys.
              </p>
            </div>
            <div class="column right">
              <div class="goalIcon"><img src="static/img/iconIntroPreserve.png"/></div>
              <h2>Raise awareness<br>
                and preserve
              </h2>
              <p>
                Although the Okavango itself is protected as a UNESCO World Heritage Site, its catchment and water supply in Angola and Namibia remain vulnerable to human interference. By gathering and freely disseminating information about the functioning and health of the entire system the 2015 expedition aims to raise the levels of both understanding and awareness of this unique and fragile system.
              <br>
              <br>
                Once base-line data on the system becomes freely available effective measures can then be implemented to insure the continued health and survival of this great African wilderness.
              </p>
            </div>
          </div>
        </div>
        <div id="team">
          <div class="background">
            <div class="slides">
              <img src="static/img/slides/0.jpg"/>
              <img src="static/img/slides/1.jpg"/>
              <img src="static/img/slides/2.jpg"/>
              <img src="static/img/slides/3.jpg"/>
            </div>
            <div class="overlay"></div>
          </div>
          
          <div class="content">
            <div class="column">
              <h2>
                Expedition team
              </h2>
              <p>
<<<<<<< HEAD
                Alex Paullin <span>(Camp Logistics)</span>Asher Jay <span>(Artist), </span>Brian House <span>(Data Artist), </span>Chris Boyes <span>(Expedition Leader), </span>Giles Trevethick <span>(Research Coordinator), </span>Gobonamang Kgetho <span>(Poler), </span>Goitseone Basiamang <span>(Poler), </span>Gregg Treinish <span>(Sensor Network Deployment), </span>James Kydd <span>(Expedition photographer), </span>Jer Thorp <span>(Data Artist), </span>John Hilton <span>(Expedition Director), </span>Karen Ross <span>(Botswana WHS Bid Leader), </span>Kgalalela Mpetsang <span>(Poler), </span>Water Setlabosha <span>(Poler), </span>Leillamang Kgetho <span>(Poler), </span>Pieter Hugo <span>(Camp Logistics), </span>Shah Selbe <span>(Expedition Technologist), </span>Steve Boyes <span>(Project Leader), </span>
=======
                Alex Paullin <span>(Camp Logistics)</span>Asher Jay <span>(Artist), </span>Brian House <span>(Sound Artist), </span>Chris Boyes <span>(Expedition Leader), </span>Giles Trevethick <span>(Research Coordinator), </span>Gobonamang Kgetho <span>(Poler), </span>Goitseone Basiamang <span>(Poler), </span>Gregg Treinish <span>(Sensor Network Deployment), </span>James Kydd <span>(Expedition photographer), </span>Jer Thorp <span>(Data Artist), </span>John Hilton <span>(Expedition Director), </span>Karen Ross <span>(Botswana WHS Bid Leader), </span>Kgalalela Mpetsang <span>(Poler), </span>Khunowa Mathare  <span>(Poler), </span>Leillamang Kgetho <span>(Poler), </span>Pieter Hugo <span>(Camp Logistics), </span>Shah Selbe <span>(Expedition Technologist), </span>Steve Boyes <span>(Project Leader), </span>
>>>>>>> 9101746b9748ded44f9c1f9cb1ed6befad372c47
              </p>
              <h2>
                Scientific team
              </h2>
              <p>
                Adjany Costa <span>(Ichthyologist and Ornithologist), </span>Bill Branch <span>(Herpetologist), </span>David Goyder <span>(Botanist - Kew Gardens), </span>Gotz Neef <span>(Botanist & Entomologist)</span>Matt Janks <span>(Botanist), </span>Nigel Barker <span>(Botanist), </span>Nkosinathi Mazungula <span>(Ichthyologist), </span>Paul Skelton <span>(Ichthyologist), </span>Francisco Maiato <span>(Botanist), </span>
              </p>
            </div>
            <div class="column">
              <h2>
                Documentary team
              </h2>
              <p>
                Alexandra Fuller <span>(Writer)</span>Cory Richards <span>(Photographer), </span>Mark Stone <span>(Assistant), </span>Neil Gelinas <span>(Filmmaker), </span>
              </p>
              <h2>And you!<br>Help us spread the word</h2>
              <div class="social">
                <span class='st_sharethis_large' displayText='ShareThis'></span>
                <span class='st_facebook_large' displayText='Facebook'></span>
                <span class='st_twitter_large' displayText='Tweet'></span>
                <span class='st_googleplus_large' displayText='Google +'></span>
                <span class='st_email_large' displayText='Email'></span>
              </div>
              <div class="logos">
                <img src="static/img/natgeoLogo.svg" width="30%"/>
                <img src="static/img/ocrLogo.svg" width="12%"/>
              </div>
            </div>
          </div>
        </div>
      </div>
      <div id="mapPage" class="page hidden">
        <div class="pane dimmed">
          <svg id="timeline"/>
        </div>
        <div class="pane hidden">

        </div>
        <div class="pane hidden">
          <div id="feed">

            <div class="post tweet">
              <div class="meta">
                <div class="separator"></div>
                <div class="timestamp"></div>
              </div>
              <div class="content">
                <img class="icon" src="static/img/iconTweet.svg"/>
                <p class="message">
                </p>
                <div class="photo">
                </div>
              </div>
            </div>

            <div class="post photo">
              <div class="content">
              <div class="meta">
                <div class="separator"></div>
                <div class="timestamp"></div>
              </div>
                <div class="photo">
                </div>
              </div>
            </div>

          </div>
        </div>
        <div class="controls">
          <div class="button control-zoom">
            <a class="control-zoom-in" href="#" title="Zoom in">+</a>
            <a class="control-zoom-out" href="#" title="Zoom out">-</a>
          </div>
          <div class="button control-playback"></div>
        </div>
      </div>

      <!-- DataPage -->
      <div id="dataPage" class="page hidden">  
          <div id="data-content"></div>
        </div>
      </div>
      <!--@End DataPage -->

      <div id="sharePage" class="page hidden">
        <h1>SHARE</h1>
      </div>
    </div>
  </div>

  <script type="text/javascript">var switchTo5x=true;</script>
  <script type="text/javascript" src="http://w.sharethis.com/button/buttons.js"></script>
  <script type="text/javascript">stLight.options({publisher: "7765ee40-a267-44e3-81df-557c161bd941", doNotHash: false, doNotCopy: false, hashAddressBar: false});</script>

  <script src="static/js/d3.min.js"></script>
  <script src="static/js/leaflet.js"></script>
  <script src="http://cdn.ractivejs.org/latest/ractive.js"></script>
  <script src="http://cdn.jsdelivr.net/ractive.load/latest/ractive-load.min.js"></script>
  <script src='https://rawgit.com/ractivejs/ractive-events-keys/master/dist/ractive-events-keys.min.js'></script>
  <script src='https://rawgit.com/ractivejs/ractive-events-tap/master/dist/ractive-events-tap.js'></script>
  <script src='https://ajax.googleapis.com/ajax/libs/jquery/2.1.3/jquery.min.js'></script>

  <script src="static/js/dummy_data.js"></script>
  <script src="static/js/viz.js"></script>
  <script src="static/js/dataPage.js"></script>
  <script src="static/js/feed.js"></script>
  <script src="static/js/features.js"></script>
  <script src="static/js/layout.js"></script>
  <script src="static/js/loader.js"></script>
  <script src="static/js/members.js"></script>
  <script src="static/js/timeline.js"></script>
  <script src="static/js/wanderer.js"></script>
  <script src="static/js/utils.js"></script>
  <script src="static/js/main.js"></script>

{% endblock body %}

